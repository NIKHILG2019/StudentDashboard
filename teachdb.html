<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit =no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"> var ok;</script>
<link rel="stylesheet" href ="teachdb.css">
<title>Teachers Dashboard</title>
</head>
<body>

  <div>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <a href="/index.html" class="navbar-brand">LAMS</a>
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="navbarCollapse" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="navbar-text text-light">Leave and Attendance Management System</li>
        </ul>
        <ul class="nav navbar-nav ml-auto">
          <li class="nav-item"><a class="text-decoration-none text-light" href="LoginPage.html">Logout</a></li>
        </ul>
      </div>
    </nav>
  </div>
    <!-- <div class="alert alert-danger" role="alert">You have not filled out one of the fields</div> -->
    <form action="" method="POST" class="atform">
    <div class = "container-fluid bg-dark text-light">
    <div class="form-row ">
        <div class="form-group col-3">
            <label class= "lecture">Date</label>
        </div>
        <div class=" form-group col-md-3">
            <input id="lecture" name="lect-date" type ="date" class="form-control noemp" required autofocus>
        </div>
        <div class="form-group col-3">
            <label class= "lecture">Time</label>
        </div>
        <div class=" form-group col-md-3">
            <input id="lecture" name="lect-date" type ="time" class="form-control noemp" autofocus>
        </div>
    </div>
      <div class="form-row">
        <div class="form-group col-6  ">
            <label for="class"> Choose your class</label>
            <input required  type="text" list = "classes" id = "class" class="form-control noemp">
            <datalist id ="classes">
                <option value="D2C">D2C</option>
                <option value="D7C">D7C</option>
                <option value="D12C">D12C</option>
                <option value="D17C">D17C</option>
            </datalist>

        </div>
        <div class="form-group col-6 ">
            <label for="class"> Choose your class</label>
            <input type="text" list = "subjects" id = "class" class="form-control noemp">
            <datalist id ="subjects">
                <option value="Maths-3">Maths-3</option>
                <option value="DLDA">DLDA</option>
                <option value="SPA">SPA</option>
            </datalist>
        </div>
      </div>
    </div>
    <div class="container-fluid">
        <div class = "form-row">
            <div class="form-group col-8">
                <label for="read-input">Enter Expression Here to check for Attendance</label>
                <input type="text" id="read-input" class="form-control">
            </div>
            <button type="button" class="btn btn-outline-primary col-lg-auto" id ="bt-input">Mark Attendance</button>
        </div>
        <div id ="no-ck">
        <div class="row ">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="1"> <label for ="1">1</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="2"> <label for ="2">2</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="3"> <label for ="3">3</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="4"> <label for ="4">4</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="5"> <label for ="5">5</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="6"> <label for ="6">6</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="7"> <label for ="7">7</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="8"> <label for ="8">8</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="9"> <label for ="9">9</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="10"> <label for ="10">10</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="11"> <label for ="11">11</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="12"> <label for ="12">12</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="13"> <label for ="13">13</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="14"> <label for ="14">14</label>
            </div>
        </div>
        <div class="row">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="15"> <label for ="15">15</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="16"> <label for ="16">16</label>
            </div>
        </div>
        <div class="row form-group">
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="17"> <label for ="17">17</label>
            </div>
            <div class="form-check col-sm-3">
                <input type="checkbox" class="form-check-input" id ="18"> <label for ="18">18</label>
            </div>
        </div>
    </div>

    </div>
    <div class="container-fluid">
        <button type="submit" class="btn btn-outline-success col-lg-auto sub">Complete Your Attendance</button>
        </div>
    </form>
</body>
<script>
    $(".alert").slideUp();
    $("input[type=checkbox]").prop("checked",true);
    $("#read-input").focus(function()
    {
        $(this).val("")
    });
    $("#bt-input").click(function()
    {
        let ch=($("#read-input").val()).split(" ");
        console.log(ch);
        for(i of ch)
        {
            if(i.charAt(0)=="*")
            {
                $("input[type=checkbox]").each(function()
                {
                    $(this).prop("checked",!$(this).prop("checked"));
                });
            }
            else{
            if(!isNaN(i.charAt(0)))
            {
                console.log(i);
                $("#"+i).prop("checked",!$("#"+i).prop("checked"));
            }
            else{
                console.log(i);
                let j;
                let j1=i.search(",");
                let end1=i.search("}");
                console.log(j1);
                console.log(end1);
                for(j=parseInt(i.slice(1,j1));j<=parseInt(i.slice(j1+1,end1));j++)
                {
                    $("#"+j).prop("checked",!$("#"+j).prop("checked"));
                }
            }
            }
        }
        $("#no-ck").show(250);
    });
    $(".sub").click(function()
    {
        $(".alert").slideUp(100);
        ok =true;
        console.log("Submission checking");
        $(".noemp").each(function()
        {
            if($(this).val()=="")
            {
                ok=false
            }

        });
        if(ok)
        {
            $(".atform").submit();
        }
        else{
            $(".alert").slideDown(250);
        }
    });
</script>
</html>
